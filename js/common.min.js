var curBalance=0,countLoadBalance=0;function hoverResult(){$("#lotteryResult");var e=$("#firstLast tr:not(.result__title)");e.off("mouseover").on("mouseover",function(e){e.preventDefault();var t=$(this),d=void 0!==t.data("win")?t.data("win").toString().split(","):[];$("[data-numwin]").each(function(e){for(var t=$(this),n=t.find(".num__hightlight"),i=n.text(),o=t.text(),a=0,r=d.length;a<r;a++)if(2===i.length&&i===d[a]){var s='<span class="active">'+i+"</span>";n.html(s)}else if(3===i.length&&i.substr(-2)===d[a]){s=i.substring(0,1)+'<span class="active">'+d[a]+"</span>";n.html(s)}else if(1!==i.length||"dacbiet"!==t.data("row")||i!==d[a].split("")[0]||9!==parseInt($.lt_method_data.methodid)&&20!==parseInt($.lt_method_data.methodid))if(1!==i.length||"dacbiet"!==t.data("row")||i!==d[a].split("")[1]||10!==parseInt($.lt_method_data.methodid)&&22!==parseInt($.lt_method_data.methodid)){if(4===i.length&&i.substr(-2)===d[a]){s=i.substring(0,2)+'<span class="active">'+d[a]+"</span>";n.html(s)}else if(o.substr(-2)===d[a]){s=2<o.length?o.substring(0,o.length-2)+'<span class="active">'+d[a]+"</span>":'<span class="active">'+d[a]+"</span>";t.html(s)}}else{u=o.split(""),c="";-1<(l=$.inArray(i,u))&&(u[l]='<span class="num__hightlight">'+i+"</span>"),c=u.slice(u.length-2,u.length).join(""),c=o.substring(0,o.length-2)+'<span class="active">'+c+"</span>",t.html(c)}else{var l,u=o.split(""),c="";-1<(l=$.inArray(i,u))&&(u[l]='<span class="num__hightlight">'+i+"</span>"),c=u.slice(u.length-2,u.length).join(""),c=o.substring(0,o.length-2)+'<span class="active">'+c+"</span>",t.html(c)}})}),e.off("mouseleave").on("mouseleave",function(e){e.preventDefault();$(this);$("[data-numwin]").each(function(e){var t=$(this),n=t.text(),i=t.find(".num__hightlight"),o=i.text();if(i.html(o),""===o)t.html(n);else if("dacbiet"===t.data("row")&&1===o.length){var a=n.split(""),r=$.inArray(o,a);-1<r&&(a[r]='<span class="num__hightlight">'+o+"</span>"),t.html(a.join(""))}})})}function scrollTopPage(e){var t=$(".back__top"),n=$("body, html");200<=e?(t.addClass("active"),t.parent().addClass("showScrollTop"),t.off("click"),t.on("click",function(e){e.preventDefault(),n.stop().animate({scrollTop:0},"30000")})):(t.removeClass("active"),t.parent().removeClass("showScrollTop"))}function showSuccessAlert(e,t,n){t=t||1500,n=n||[];e&&parent.layer.msg(e,{shade:.3,closeBtn:!0,icon:1,time:t},function(){for(var e=0,t=n.length;e<t;e++)n[e]&&n[e]()})}function showErrorAlert(e,t,n){t=t||1500;e&&parent.layer.msg(e,{shade:.3,closeBtn:!0,icon:2,time:t},function(){"function"==typeof n&&n()})}function showAlert(e,t,n){e&&parent.layer.alert(e,{btn:["OK"],area:["420px"],icon:t,shade:.3,yes:function(){n()}})}function showConfirm(e,t){parent.layer.confirm(e,{btn:["OK","Cancel"],area:["350px"],icon:3,yes:function(){parent.layer.closeAll(),t&&t()}})}function closePopup(){var e=parent.layer.getFrameIndex(window.name);parent.layer.close(e)}function forInputNumberFloorType(e,o){e.off().on("keyup",function(e){var t=$(this),n=t.val(),i=0;""===n||null===n||isNaN(n)?isNaN(n)&&t.val(""):(t.val(Math.floor(n)),n=Math.floor(n),i=1),o&&o(i,n)})}function numberWithCommas(e){return e.toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",")}function removeLastZero(e){if("string"==typeof e)return e.substring(0,e.length-3);alert("Not a string")}function removeItemDupliArr(e){if("array"==typeof e||0!==e.length){var t,n=e.length,i=[],o={},a=!1;for(t=0;t<n;t++)void 0===o[e[t]]?o[e[t]]=0:a=!0;for(t in o)i.push(t);return{flag:a,result:i}}}function toggleIputDropdown(){$(".iput__sub input").on("focus",function(e){$(this).closest(".iput__sub").find(".iput__subitems").show()}).on("keyup",function(e){$(this).closest(".iput__sub").find(".iput__subitems").hide()}),$(".iput__subitems a").on("click",function(e){e.preventDefault();var t=$(this),n=Number(t.text()),i=t.closest(".iput__sub"),o=t.parent(".iput__subitems");i.find("input").val(n).change(),o.hide()})}function hideElOutSite(n,i){$(document).on("click",function(e){var t=$(n);t.is(e.target)||0!==t.has(e.target).length||i()})}function separateNum(i){function o(e,t,n,i){if(void 0!==i){var o=t.split(""),a="";return a='<span class="num__hightlight">'+o[o.length-i]+"</span>",o[o.length-i]=a,void n.html(o.join(""))}var r=t.substr(-e);a="";a=t.substring(0,t.length-e)+'<span class="num__hightlight">'+r+"</span>",n.html(a)}i=Number(i)||1,$("[data-numwin]").each(function(e){var t=$(this),n=t.text().trim();t.html(n),1===i||14===i||3===i||4===i||5===i||16===i||17===i||18===i||27===i||28===i||29===i||30===i||31===i||32===i?o(2,n,t):2===i||15===i?2<n.length&&o(3,n,t):7===i?"giaitam"===t.data("row")&&o(2,n,t):6===i||1e3===i?"dacbiet"===t.data("row")&&o(2,n,t):8===i?"dacbiet"!==t.data("row")&&"giaitam"!==t.data("row")||o(2,n,t):9===i||20===i?"dacbiet"===t.data("row")&&o(0,n,t,2):10===i||22===i?"dacbiet"===t.data("row")&&o(0,n,t,1):11===i?"giaibay"===t.data("row")&&o(3,n,t):12===i||21===i?"dacbiet"===t.data("row")&&o(3,n,t):13===i?"dacbiet"!==t.data("row")&&"giaibay"!==t.data("row")||o(3,n,t):25===i||26===i?3<n.length&&o(4,n,t):23!==i&&24!==i||"dacbiet"===t.data("row")&&o(4,n,t)})}function timerCountDown(e,t,r,s){var l,u=0;function c(e){return Number(e)<10?"0"+Number(e):Number(e)}function n(e){return new Date(e.replace(/-/g,"/"))}u=""==e||""==t?0:(n(t).getTime()-n(e).getTime())/1e3,l=setInterval(function(){u<=0&&(clearInterval(l),s());var e,t=0<(e=u--)?{day:Math.floor(e/86400),hour:Math.floor(e%86400/3600),minute:Math.floor(e%3600/60),second:Math.floor(e%60)}:{day:0,hour:0,minute:0,second:0},n=(c(t.hour)+"").substr(0,1)+(c(t.hour)+"").substr(1),i=(c(t.minute)+"").substr(0,1)+(c(t.minute)+"").substr(1),o=(c(t.second)+"").substr(0,1)+(c(t.second)+"").substr(1),a=0<t.day?24*Number(t.day)+Number(n):n;r.html(a+":"+i+":"+o)},1e3)}function readFileContent(e,t,n){var i=document.getElementById(e).files[0];if(i){var o=/[.]/.exec(i.name)?/[^.]+$/.exec(i.name):void 0;if("txt"!==o[0]&&"csv"!==o[0]||void 0===o)showErrorAlert("Định dạng file không hợp lệ.");else{var a=new FileReader;a.readAsText(i,"UTF-8"),layer.load(2,{shade:.3}),a.onload=function(e){document.getElementById(t).value=e.target.result,layer.closeAll("loading"),n()},a.onerror=function(e){alert("Error !!!")}}}document.getElementById(e).value=""}function FireEventJavascript(e,t){if(null!=document.getElementById(e))if(document.getElementById(e).fireEvent)document.getElementById(e).fireEvent("on"+t);else{var n=document.createEvent("Events");n.initEvent(t,!0,!1),document.getElementById(e).dispatchEvent(n)}}function toggleCash(e){var t=$(e),n=t.parent();n.toggleClass("showHideMoney"),n.hasClass("showHideMoney")?(t.attr("title","Hiện số tiền"),setCookie("toggle_money",1,30)):(t.attr("title","Ẩn số tiền"),setCookie("toggle_money",0,30))}function loadbalance(){jQuery(function(i){i(".cash__real .line").addClass("reloadMoney"),i.ajax({type:"POST",url:"/LotteryService.aspx",data:"flag=balance",success:function(e){var t=JSON.parse(e);if(""===t.msg){setTimeout(function(){i(".cash__real .line").removeClass("reloadMoney")},1e3);var n=Number(t.balance);n=Math.round(n),curBalance=n,i("#ebalance").html(numberWithCommas(n))}else window.location.reload(!1)},error:function(e,t,n){console.log(n)}})})}function setCookie(e,t,n){var i="";if(n){var o=new Date;o.setTime(o.getTime()+Math.round(24*n*60*60*1e3)),i="; expires="+o.toUTCString()}document.cookie=e+"="+(t||"")+i+"; path=/"}function getCookie(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null}function redirectWap(){if(!(-1<location.href.search("reg.shtml"))){var e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};e.any()&&(location.href="https://m.loto188.com/")}}redirectWap(),$(window).on("load",function(){$(".feedbackLink").on("click",function(e){e.preventDefault();var t="https://docs.google.com/forms/d/e/1FAIpQLSchQFyeFXRnc9t1RnYasSV1le9SvzSmHxWLoWDrkd4W83FwOg/viewform?entry.1171301224=Tài+khoản:+"+$('[name="j_id5:usernamePlayer"]').val()+"%0A%0A%0A%0A";window.open(t,"_blank")});var e=[{name:"account",subLink:["PersonPwd","PersonMsg","PersonBank","TransferMoney"]},{name:"agency",subLink:["AgentReg","AgentUser","AgentAutoReg","AgentBalance"]},{name:"history",subLink:["ReportZb","BonusReport","BetRecord","TraceRecord"]},{name:"notification",subLink:["Index"]},{name:"report",subLink:["ReportWL","ReportTD","ReportDay"]},{name:"quickview",subLink:["DWDeposit","DWDepositRecord","DWWithDrawl","DWWithDrawlRecord","RechargeInstructions"]},{name:"question",subLink:["question"]}],t=location.pathname.toLowerCase().split("/"),n=t[t.length-1].toString().split(".")[0],i=$(".dashboard__menu .panel__item");if(i.length)for(var o=0,a=e.length;o<a;o++){for(var r=e[o].subLink,s=!1,l=0,u=r.length;l<u;l++){var c=r[l].toLowerCase();if(n===c){var d=i.eq(o).find(".panel__title"),h=i.eq(o).find(".panel-collapse"),f=h.find("a");d.removeClass("collapsed"),d.attr("aria-expanded",!0),h.addClass("in"),f.each(function(){if(f.removeClass("active"),void 0!==$(this).attr("href")&&0<$(this).attr("href").toLowerCase().search(c))return $(this).addClass("active"),!1}),s=!0;break}}if(s)break}if(setTimeout(function(){$(".letter__alert").addClass("alert__tip--show")},800),hoverResult(),document.getElementById("flagLogin")){var g=document.getElementById("flagLogin").value;Number(g)||(mbInterval=window.setInterval("loadbalance();",8e3))}null!==getCookie("toggle_money")&&getCookie("toggle_money")||($(".cash__real .line").removeClass("showHideMoney"),$(".toggle__cash").attr("title","Ẩn số tiền")),$(".check__link").on("click",function(){return!parseInt($("#flagLogin").val())||(showErrorAlert("Vui lòng đăng nhập."),!1)});var m=$(".homepage:not(.promotionsPage)");m&&m.length&&(setTimeout(function(){"1"!==getCookie("support_alert")&&($(".live__chat--link").addClass("showHover"),document.getElementById("audio__noti").play())},500),$("#close__chat").on("click",function(e){e.stopPropagation(),$(".live__chat--link").removeClass("showHover"),setCookie("support_alert",1,2)}))}),$(window).on("scroll",function(){scrollTopPage($(this).scrollTop())}),$.fn.updownNumber=function(e){return this.each(function(){var n,i=$(this);if(0==i.length)return i;function o(e,t){return e=""==(e=e.replace(/[^0-9]/g,"").substring(0,5))?t:parseInt(e,10)}n=$.extend({},{upItem:".num__up",downItem:".num__down",iPut:"input[type=text]",eventKeyup:function(){},maxNumber:1e6,minNumber:0},e),i.find(n.iPut).val(n.minNumber),i.find(n.upItem).off().on("click",function(e){e.preventDefault();var t=o(i.find(n.iPut).val(),n.minNumber);t+=1,i.find(n.iPut).val(t),i.find(n.iPut).trigger("keyup")}),i.find(n.downItem).off().on("click",function(e){e.preventDefault();var t=o(i.find(n.iPut).val(),n.minNumber);t<=n.minNumber?t=n.minNumber:t-=1,i.find(n.iPut).val(t),i.find(n.iPut).trigger("keyup")}),forInputNumberFloorType(i.find(n.iPut),function(e,t){e&&0<t&&t>=n.maxNumber&&i.find(n.iPut).val(n.maxNumber),n.eventKeyup(i.find(n.iPut))})})},$.fn.loading=function(i){return this.each(function(){var e,t,n=$(this);if(0==n.length)return n;(e=$.extend({},{inside_left:!1,left:10,inside_right:!1,right:10,full:!0,elLoading:'<div id="loading__emu"><div class="loading__emu--inner"><div class="dot"></div><div class="dot"></div><div class="dot"></div></div></div>',remove:!1,widthHeight:"15px",borderWidth:"2px",borderColor:"#f49e1d",color:"#009688",zIndexLoading:10,done:function(){}},i)).remove?(t=n.find("#loading__emu")).length&&t.remove():(n.append($(e.elLoading)),t=n.find("#loading__emu"),n.css({position:"relative"}),t.find(".dot").css({width:e.widthHeight,height:e.widthHeight,"border-width":e.borderWidth,"border-color":e.borderColor,color:e.color,padding:0}),e.inside_left?n.find(".loading").css({left:e.left+"px"}):e.inside_right?n.find(".loading").css({right:e.right+"px"}):(n.is("body")&&t.css({position:"fixed"}),t.css({top:0,bottom:0,right:0,left:0,position:"absolute","background-color":"rgba(0, 0, 0, 0.7)","z-index":e.zIndexLoading})))})},Date.prototype.addHours=function(e){return this.setTime(this.getTime()+e),this},hideElOutSite(".iput__sub",function(){$(".iput__sub .iput__subitems").hide()});